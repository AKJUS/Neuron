{% extends "basic.html" %}
{% block content %}
<div class="{% if darkmode %}overlayBlack{% else %}overlayWhite{% endif %}" style="z-index: 9999 !important; left:0px; background: {% if darkmode %}#212529 !important;{% else %}#f0f2f5 !important;{% endif %} display: {% if vaultOpened %}none{% else %}block{% endif %};">
  <div class="container-for-center vertical-center" style="padding-left: 0px;">
    <div class="tight">
      <div class="row mb-4">
        <center>
          <div class="col-xl-10 col-sm-10 mb-xl-4 mb-4">
            <form action="/vault" method="POST">
              {{ vaultPasswordForm.hidden_tag() }}
              {{ vaultPasswordForm.csrf_token }}
              <div class="d-flex px-3 py-1" style="padding: 1px !important; margin-bottom: 1.5rem;">
                <div class="input-group input-group-outline">
                  {% if darkmode %}{{ vaultPasswordForm.password(size=32, style_="text-align: center; border: 2px solid #F9ED4E;", class_="tight form-control dark-colors", placeholder="", autofocus=True) }}
                  {% else %}{{ vaultPasswordForm.password(size=32, style_="text-align: center; border: 2px solid #10051D;", class_="tight form-control", placeholder="", autofocus=True) }}
                  {% endif %}
                </div>
              </div>
              <div class="d-flex px-3 py-1" style="padding: 1px !important; height: 75px; display: none;">
                <div class="input-group input-group-outline">
                  {% if darkmode %}{{ vaultPasswordForm.submit(size=32, style_="display:none;", class_="tight form-control dark-colors", onclick="if(validateVaultPassword()) showWorking();") }}
                  {% else %}{{ vaultPasswordForm.submit(size=32, style_="display:none;", class_="tight form-control", onclick="if(validateVaultPassword()) showWorking();") }}
                  {% endif %}
                </div>
              </div>
            </form>
            <!--<input 
            style="text-align: center;"
            class="tight form-control input-tall code-placeholder {% if darkmode %}dark-colors{% endif %}",
            type="password" id="passwordInput" placeholder="Enter your password" />-->
          </div>
        </center>
      </div>
    </div>
  </div>
</div>
<div id="vaultContainer"></div>
<div class="row mb-4">
  <div class="col-xl-12 col-sm-12 mb-xl-0 mb-4">
    <div class="card {% if darkmode %}dark-colors{% endif %}" onclick="describeVault();">
      <div class="card-header p-3 pt-2 {% if darkmode %}dark-colors{% endif %}">
      </div>
      <center>
        <p id='explainVault' class="mb-1 {% if darkmode %}dark-colors{% endif %}"><span class="text-success text-sm font-weight-bolder"></span>
          The Vault is an encrypted wallet.
          <br>
          <br>
          YOU MUST REMEMBER YOUR PASSWORD. THERE IS NO WAY TO RETRIEVE IT.
          <br>
          <br>
        </p>
      </center>
    </div>
  </div>
</div>
<br>
<script>
  window.onload = function() {
    document.getElementById("password").focus();
  };

  function validateVaultPassword() {
		return document.getElementById("password").value.length > 7;
	}

  function describeVault() {
    var shortDescription = (
      "The Vault is an encrypted wallet." +
      "<br>" +
      "<br>" +
      "YOU MUST REMEMBER YOUR PASSWORD. THERE IS NO WAY TO RETRIEVE IT." +
      "<br>" +
      "<br>" )
    var longDescription = (
      "The Vault is an encrypted wallet." +
      "<br>" +
      "<br>" +
      "Your main Wallet is used to authenticate you to the network and as such is not encrypted. If it were, you would need to provide the decryption password each time your machine attempt to authenticate itself on the Satori Network." +
      "<br>" +
      "<br>" +
      "You can transfer SATORI Tokens from your Wallet to your Vault to for safe keeping." +
      "<br>" +
      "<br>" +
      "Since the Vault is encrypted with a password you must remember it or you will not be able to access the assets in your Vault." +
      "<br>" +
      "<br>" )
    if (document.getElementById('explainVault').innerHTML == longDescription) {
      document.getElementById('explainVault').innerHTML = shortDescription;
    } else {
      document.getElementById('explainVault').innerHTML = longDescription;
    }
  }
</script>
{% include 'wallet-functions.html' %}
<!-- put voting template here -->
{% include 'wallet-history.html' %}
{% if vaultOpened %}
{% include 'wallet-meta.html' %}
{% endif %}


{% endblock %}




